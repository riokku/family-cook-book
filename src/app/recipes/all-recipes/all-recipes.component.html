<section>
  <div class="container pt-4">
    <div class="row">
      <div class="col-12">
        <div class="banner">
          <h1>
            Find a recipe
          </h1>
        </div>
        <div class="search-wrapper">
          <h4>
            Search recipes:
          </h4>
          <div class="search-input-wrapper mb-4">
            <input class="me-2" type="text" [(ngModel)]="searchInput" (input)="updateResults()" placeholder="Search by recipe name...">
            <button type="button" (click)="clearSearchInput()" *ngIf="searchInput">
              <i class="bi bi-x-circle"></i>
            </button>
          </div>
          <div class="filter-group-wrapper">
            <button type="button" (click)="showFilters()">
              <i class="bi bi-filter-circle"></i> {{ filterLabel }}
            </button>
            <div class="mt-3 filter-sets-wrapper" *ngIf="filtersShowing">
              <div class="filter-sets">
                <div class="filter-wrapper">
                  <label for="categories"><i class="bi bi-grid"></i> Category:</label>
                  <select id="categories" class="filterSelects" name="categories" (change)="filterByCategory($event)">
                    <option value="" disabled selected>Select one</option>
                    <option value="{{ category }}" *ngFor="let category of recipeCategories">{{ category }}</option>
                  </select>
                </div>
                <div class="filter-wrapper">
                  <label for="cookTime"><i class="bi bi-clock"></i> Cook Time:</label>
                  <select id="cookTime" class="filterSelects" name="cookTime">
                    <option value="" disabled selected>Select one</option>
                    <option value="{{ cookTime }}" *ngFor="let cookTime of recipeCookTimes">{{ cookTime }} minutes</option>
                  </select>
                </div>
                <div class="filter-wrapper">
                  <label for="servingSize"><i class="bi bi-person"></i> Serving Size:</label>
                  <select id="servingSize" class="filterSelects" name="servingSize">
                    <option value="" disabled selected>Select one</option>
                    <option value="{{ servingSize }}" *ngFor="let servingSize of recipeServingSizes">{{ servingSize }} servings</option>
                  </select>
                </div>
              </div>
              <div class="reset-filter-wrapper" *ngIf="recipesFiltered">
                <button type="button" (click)="resetFilters()">
                  <i class="bi bi-x-circle"></i> Reset
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="row">
      <div class="col-12">
        <div class="row">
          <div class="col-12">
            <div class="sort-wrapper-group mt-4 mb-4">
              <div class="sort-wrapper me-3">
                <button type="button" (click)="sortByCookTime()" [ngClass]="
                {
                  'filter-default': cookTimeSortText === cookTimeSortTextOptions[0],
                  'filter-lowest-highest': cookTimeSortText === cookTimeSortTextOptions[1],
                  'filter-highest-lowest': cookTimeSortText === cookTimeSortTextOptions[2]
                }">
                  <i class="bi" [ngClass]="
                  {
                    'bi-clock': cookTimeSortText === cookTimeSortTextOptions[0],
                    'bi-sort-numeric-up': cookTimeSortText === cookTimeSortTextOptions[1],
                    'bi-sort-numeric-down-alt': cookTimeSortText === cookTimeSortTextOptions[2]
                  }"></i> {{ cookTimeSortText }}
                </button>
              </div>
              <div class="sort-wrapper">
                <button type="button" (click)="sortByServingSize()" [ngClass]="
                {
                  'filter-default': servingSizeSortText === servingSizeSortTextOptions[0],
                  'filter-lowest-highest': servingSizeSortText === servingSizeSortTextOptions[1],
                  'filter-highest-lowest': servingSizeSortText === servingSizeSortTextOptions[2]
                }">
                  <i class="bi" [ngClass]="
                  {
                    'bi-person': servingSizeSortText === servingSizeSortTextOptions[0],
                    'bi-sort-numeric-up': servingSizeSortText === servingSizeSortTextOptions[1],
                    'bi-sort-numeric-down-alt': servingSizeSortText === servingSizeSortTextOptions[2]
                  }"></i> {{ servingSizeSortText }}
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-sm-12 col-md-6 col-xl-4 d-flex mb-4" *ngFor="let recipe of selectedRecipes; let i = index">
            <app-recipe-card [recipe]="recipe" [index]="i"></app-recipe-card>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>
